<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447</title><meta name="description" content="Documentation for ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#práctica-6-clases-e-interfaces-genéricas-principios-solid" id="práctica-6-clases-e-interfaces-genéricas-principios-solid" style="color: inherit; text-decoration: none;">
  <h1>Práctica 6: Clases e interfaces genéricas. Principios SOLID</h1>
</a>
<p><a href="https://coveralls.io/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447"><img src="https://coveralls.io/repos/github/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447/badge.svg" alt="Coverage Status"></a></p>

<a href="#repositorio-con-el-contenido-referente-a-la-práctica-6" id="repositorio-con-el-contenido-referente-a-la-práctica-6" style="color: inherit; text-decoration: none;">
  <h2>Repositorio con el contenido referente a la práctica 6</h2>
</a>
<p>Esta práctica se encuentra dirigida al uso de clases e interfaces genéricas mediante el uso de los principios SOLID. Para ello, se plantean tres ejercicios que han sido resultos a corde al formato solicitado. A continuación, se procederá a explicar el código desarrollado.</p>
<ul>
<li><a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447/tree/main/src/ejercicio-01">Ejercicio 1</a></li>
</ul>
<p>Se nos pide realizar el desarrollo de un conjunto de clases que nos permita simular el combate entre personajes de diferentes universos. Para llevar esto a cabo, se requiere de una clase que se encargue del desarrollo del combate <code>combat.ts</code>, una clase abstracta que sirva para regular los luchadores de cada universo <code>fighter.ts</code> y una clase para cada universo que se desarrollará. Además de esto, también hará falta una pokedex que pueda almacenar a todos los tipos de luchadores, sin importar su universo.</p>
<p>Además, hemos implementado un tipo de dato para regular las estadisticas que vamos a utlilizar en combate: </p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * ## Estadisticas básicas de todos los personajes</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">Stats</span><span class="hl-2"> = { </span><br/><span class="hl-2">  </span><span class="hl-5">HP</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">attack</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><br/><span class="hl-2">  </span><span class="hl-5">defense</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><br/><span class="hl-2">  </span><span class="hl-5">speed</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">}</span>
</code></pre>
<p>Con respecto a la clase <code>fighter.ts</code>, le incluiremos todos los datos relevantes y comunes a todos los luchadores. Pese a no mostrarlo, se desarrollan los getters de todos los elementos, ya que, su tipo es privado y nos interesa tener acceso.</p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * # Clase Fighter</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">abstract</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Fighter</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">name</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">weight</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">height</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">habilityName</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">habilityType</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><br/><span class="hl-2">    </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">stats</span><span class="hl-2">: </span><span class="hl-4">Stats</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">cathPrase</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">type</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">universe</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-0">// Empty method</span><br/><span class="hl-2">  }</span><br/>
</code></pre>
<p>Además, le incluiremos una función que utilizando los datos del peleador pueda calcular la ventaja de tipos, teniendo en cuenta el tipo de ataque y el tipo del luchador que recibe el ataque.</p>
<pre><code><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## typeEfectivity</span><br/><span class="hl-0">   * ### Calcula la ventaja de tipo tomando el tipo de ataque y el tipo de luchador que recibe el ataque</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">fighter</span><span class="hl-0"> Enemigo</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> el multiplicador de tipo</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">typeEfectivity</span><span class="hl-2">(</span><span class="hl-5">fighter</span><span class="hl-2">: </span><span class="hl-5">Fighter</span><span class="hl-2">): </span><span class="hl-5">number</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getType</span><span class="hl-2">()) {</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">0.5</span><span class="hl-2">;</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-8">&#39;Fuego&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">switch</span><span class="hl-2">(</span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getType</span><span class="hl-2">()) { </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Planta&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Aire&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Armas&#39;</span><span class="hl-2">: </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">2</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Agua&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Tierra&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Psiquico&#39;</span><span class="hl-2"> : </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">0.5</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Electrico&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Magico&#39;</span><span class="hl-2">:</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1</span><span class="hl-2">;</span><br/><span class="hl-2">          </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-1">default</span><span class="hl-2">: </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">      } </span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-8">&#39;Agua&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">switch</span><span class="hl-2">(</span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getType</span><span class="hl-2">()) { </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Planta&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Tierra&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Psiquico&#39;</span><span class="hl-2">: </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">0.5</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Fuego&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Aire&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Armas&#39;</span><span class="hl-2"> : </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">2</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Electrico&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Magico&#39;</span><span class="hl-2">:</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1</span><span class="hl-2">;</span><br/><span class="hl-2">          </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-1">default</span><span class="hl-2">: </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">      } </span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-8">&#39;Aire&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">switch</span><span class="hl-2">(</span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getType</span><span class="hl-2">()) { </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Agua&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Magico&#39;</span><span class="hl-2">: </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">2</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Fuego&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Tierra&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Armas&#39;</span><span class="hl-2"> : </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">0.5</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">        </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Electrico&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Planta&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Psiquico&#39;</span><span class="hl-2">:</span><br/><span class="hl-2">          </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1</span><span class="hl-2">;</span><br/><span class="hl-2">          </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-1">default</span><span class="hl-2">: </span><br/><span class="hl-2">            </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1</span><span class="hl-2">; </span><br/><span class="hl-2">            </span><span class="hl-1">break</span><span class="hl-2">; </span><br/><span class="hl-2">      } </span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-8">&#39;Tierra&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getType</span><span class="hl-2">() != </span><span class="hl-8">&#39;Aire&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">2</span><span class="hl-2">; </span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">0.5</span><span class="hl-2">;</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-8">&#39;Electrico&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getType</span><span class="hl-2">() != </span><span class="hl-8">&#39;Tierra&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">2</span><span class="hl-2">; </span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">0.5</span><span class="hl-2">;</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-8">&#39;Aire&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">2.5</span><span class="hl-2">;</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">habilityType</span><span class="hl-2"> == </span><span class="hl-8">&#39;Armas&#39;</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> ((</span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getType</span><span class="hl-2">() == </span><span class="hl-8">&#39;Magico&#39;</span><span class="hl-2">) &amp;&amp; (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">stats</span><span class="hl-2">.</span><span class="hl-5">attack</span><span class="hl-2"> &gt; </span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">attack</span><span class="hl-2">)){</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">5</span><span class="hl-2">; </span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">2</span><span class="hl-2">;</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2"> </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">getHabilityType</span><span class="hl-2">() != </span><span class="hl-8">&#39;Normal&#39;</span><span class="hl-2">){</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1.5</span><span class="hl-2">; </span><span class="hl-0">// Daño mágico y psiquico</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-7">1</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span>
</code></pre>
<p>Por otra parte, el modelo general de la clase de un universo sigue el siguiente esquema, en el que desciende de la clase luchador. 
A continuación se observa el ejemplo de la clase Marvel:</p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * # Clase Marvel</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Marvel</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">Fighter</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">name</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">weight</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">height</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">habilityName</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">habilityType</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">stats</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">cathPrase</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">type</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-5">name</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-5">weight</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-5">height</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><span class="hl-5">habilityName</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><br/><span class="hl-2">    </span><span class="hl-5">habilityType</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-5">stats</span><span class="hl-2">: </span><span class="hl-4">Stats</span><span class="hl-2">, </span><span class="hl-5">cathPrase</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-5">type</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">super</span><span class="hl-2">(</span><span class="hl-5">name</span><span class="hl-2">, </span><span class="hl-5">weight</span><span class="hl-2">, </span><span class="hl-5">height</span><span class="hl-2">, </span><span class="hl-5">habilityName</span><span class="hl-2">, </span><span class="hl-5">habilityType</span><span class="hl-2">, </span><span class="hl-5">stats</span><span class="hl-2">, </span><span class="hl-5">cathPrase</span><span class="hl-2">, </span><span class="hl-5">type</span><span class="hl-2">, </span><span class="hl-8">&#39;Marvel&#39;</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span>
</code></pre>
<p>Se incluye una función propia que calcula la efectividad de un ataque teniendo en cuenta el universo de cada personaje y el tipo, a partir de la función <code>typeEfectivity</code> que desarrollamos en la clase <code>Fighter</code>.</p>
<pre><code><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## efectivity</span><br/><span class="hl-0">   * ### Calcula la efectividad dependiendo del tipo y el universo del contrario</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">fighter</span><span class="hl-0"> Enemigo</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Multiplicador de tipo</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">efectivity</span><span class="hl-2">(</span><span class="hl-5">fighter</span><span class="hl-2">: </span><span class="hl-5">Fighter</span><span class="hl-2">): </span><span class="hl-5">number</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-7">1</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">switch</span><span class="hl-2">(</span><span class="hl-5">fighter</span><span class="hl-2">.</span><span class="hl-6">getUniverse</span><span class="hl-2">()) {</span><br/><span class="hl-2">      </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Pokemon&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;DC&#39;</span><span class="hl-2">: </span><br/><span class="hl-2">        </span><span class="hl-5">result</span><span class="hl-2"> *= </span><span class="hl-7">2</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-1">case</span><span class="hl-2"> </span><span class="hl-8">&#39;Star Wars&#39;</span><span class="hl-2"> || </span><span class="hl-8">&#39;Dragon Ball&#39;</span><span class="hl-2">: </span><br/><span class="hl-2">        </span><span class="hl-5">result</span><span class="hl-2"> *= </span><span class="hl-7">0.5</span><span class="hl-2">;</span><br/><span class="hl-2">        </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-1">default</span><span class="hl-2">: </span><br/><span class="hl-2">        </span><span class="hl-0">// En este caso la efectividad no cambia</span><br/><span class="hl-2">        </span><span class="hl-1">break</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-5">result</span><span class="hl-2"> *= </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-6">typeEfectivity</span><span class="hl-2">(</span><span class="hl-5">fighter</span><span class="hl-2">);</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span>
</code></pre>
<p>Finalmente, podemos ver que la clase <code>Combate</code> se implemento con dos luchadores y una función de inicio.</p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * # Clase Combat</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Combat</span><span class="hl-2"> &lt;</span><span class="hl-4">T</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> (</span><span class="hl-4">Pokemon</span><span class="hl-2"> | </span><span class="hl-4">DC</span><span class="hl-2"> | </span><span class="hl-4">Marvel</span><span class="hl-2"> | </span><span class="hl-4">StarWars</span><span class="hl-2"> | </span><span class="hl-4">DragonBall</span><span class="hl-2"> )&gt; {</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">fighter1</span><span class="hl-2">: </span><span class="hl-4">T</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">fighter2</span><span class="hl-2">: </span><span class="hl-4">T</span><span class="hl-2">) {</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## Start</span><br/><span class="hl-0">   * ### Da inicio al combate y muestra lo que sucede por la terminal</span><br/><span class="hl-0">   */</span>
</code></pre>
<p>La función de inicio toma en cuenta la velocidad de cada personaje para el inicio del combate. Además, de esta manera se comenta todo el combate incluyendo los nombres de la habilidad y la cantidad de daño. Al finalizar el combate, el luchador ganador cerrará con su catch-prase.</p>
<pre><code><span class="hl-2">  </span><span class="hl-6">start</span><span class="hl-2">() {</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">speed</span><span class="hl-2"> &gt;= </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">speed</span><span class="hl-2">) {     </span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">speed</span><span class="hl-2"> &gt; </span><span class="hl-7">75</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`Comienza los ataques </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> debido a su gran velocidad`</span><span class="hl-2">);</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`Comienza atacando </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> debido a que </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> es mas lento`</span><span class="hl-2">);</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">attack1</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">attack</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">attack2</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">attack</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">deff1</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">defense</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">deff2</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">defense</span><span class="hl-2">;</span><br/><span class="hl-2">    } </span><span class="hl-1">else</span><span class="hl-2">  {      </span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">speed</span><span class="hl-2"> &gt; </span><span class="hl-7">75</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`Comienza los ataques </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> debido a su gran velocidad`</span><span class="hl-2">);</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`Comienza atacando </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> debido a que </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> es mas lento`</span><span class="hl-2">);</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">attack1</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">attack</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">attack2</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">attack</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">deff1</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">defense</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">deff2</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-5">defense</span><span class="hl-2">;</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">turno</span><span class="hl-2"> = </span><span class="hl-7">1</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">do</span><span class="hl-2"> {</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-10">\n\n</span><span class="hl-8">Turno </span><span class="hl-3">${</span><span class="hl-5">turno</span><span class="hl-3">}</span><span class="hl-8">`</span><span class="hl-2">);</span><br/><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">dmg1</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-4">Math</span><span class="hl-2">.</span><span class="hl-6">floor</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getDmg</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">) * </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">efectivity</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">));</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> ha usado </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getHabilityName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8">`</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-11">HP</span><span class="hl-2"> -= </span><span class="hl-5">dmg1</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-11">HP</span><span class="hl-2"> &gt; </span><span class="hl-7">0</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> se quedo a </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getStats</span><span class="hl-9">().</span><span class="hl-11">HP</span><span class="hl-9">.</span><span class="hl-6">toFixed</span><span class="hl-9">(</span><span class="hl-7">0</span><span class="hl-9">)</span><span class="hl-3">}</span><span class="hl-8">`</span><span class="hl-2">);</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> ha sido debilitado`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> GANA EL COMBATE!!`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-10">\n\n</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getPhrase</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8">`</span><span class="hl-2">);</span><br/><span class="hl-2">      }</span><br/><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">();</span><br/><br/><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">dmg2</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-4">Math</span><span class="hl-2">.</span><span class="hl-6">floor</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getDmg</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">) * </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">efectivity</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">));</span><br/><span class="hl-2">      </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8">  ha usado </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getHabilityName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8">`</span><span class="hl-2">);</span><br/><span class="hl-2">      </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-11">HP</span><span class="hl-2"> -= </span><span class="hl-5">dmg2</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-11">HP</span><span class="hl-2"> &gt; </span><span class="hl-7">0</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> se quedo a </span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getStats</span><span class="hl-9">().</span><span class="hl-11">HP</span><span class="hl-9">.</span><span class="hl-6">toFixed</span><span class="hl-9">(</span><span class="hl-7">0</span><span class="hl-9">)</span><span class="hl-3">}</span><span class="hl-8">`</span><span class="hl-2">);</span><br/><span class="hl-2">      } </span><span class="hl-1">else</span><span class="hl-2"> {</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter1</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> ha sido debilitado`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getName</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8"> GANA EL COMBATE!!`</span><span class="hl-2">);</span><br/><span class="hl-2">        </span><span class="hl-5">console</span><span class="hl-2">.</span><span class="hl-6">log</span><span class="hl-2">(</span><span class="hl-8">`</span><span class="hl-10">\n\n</span><span class="hl-3">${</span><span class="hl-3">this</span><span class="hl-9">.</span><span class="hl-5">fighter2</span><span class="hl-9">.</span><span class="hl-6">getPhrase</span><span class="hl-9">()</span><span class="hl-3">}</span><span class="hl-8">`</span><span class="hl-2">);</span><br/><span class="hl-2">      }</span><br/><br/><span class="hl-2">      </span><span class="hl-5">turno</span><span class="hl-2">++;</span><br/><span class="hl-2">    } </span><span class="hl-1">while</span><span class="hl-2"> ((</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter1</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-11">HP</span><span class="hl-2"> &gt; </span><span class="hl-7">0</span><span class="hl-2">) &amp;&amp; (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">fighter2</span><span class="hl-2">.</span><span class="hl-6">getStats</span><span class="hl-2">().</span><span class="hl-11">HP</span><span class="hl-2"> &gt; </span><span class="hl-7">0</span><span class="hl-2">));</span><br/><br/><span class="hl-2">  }</span>
</code></pre>
<p> La función <code>combatResult</code> es una copia de la función <code>start</code> en la que no se muestra nada por pantalla y simplemente se devuelve el ganador. Esto fue desarrollado de esta manera para utilizar esta función al momento de hacer los tests.</p>
<pre><code><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## combat result</span><br/><span class="hl-0">   * ### Simula el combate sin mostrar nada por pantalla</span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> Ganador del combate</span><br/><span class="hl-0">   *</span><br/><span class="hl-0">  combatResult(): string {</span><br/><span class="hl-0">    if (this.fighter1.getStats().speed &gt;= this.fighter2.getStats().speed) { </span><br/><span class="hl-0">      let attack1: number = this.fighter1.getStats().attack;</span><br/><span class="hl-0">      let attack2: number = this.fighter2.getStats().attack;</span><br/><span class="hl-0">      let deff1: number = this.fighter1.getStats().defense;</span><br/><span class="hl-0">      let deff2: number = this.fighter2.getStats().defense;</span><br/><span class="hl-0">    } else  { </span><br/><span class="hl-0">      let attack1: number = this.fighter2.getStats().attack;</span><br/><span class="hl-0">      let attack2: number = this.fighter1.getStats().attack;</span><br/><span class="hl-0">      let deff1: number = this.fighter2.getStats().defense;</span><br/><span class="hl-0">      let deff2: number = this.fighter1.getStats().defense;</span><br/><span class="hl-0">    }</span><br/><br/><span class="hl-0">    do {</span><br/><br/><span class="hl-0">      let dmg1: number = Math.floor(this.fighter1.getDmg(this.fighter2) * this.fighter1.efectivity(this.fighter2));</span><br/><span class="hl-0">      this.fighter2.getStats().HP -= dmg1;</span><br/><span class="hl-0">      if (this.fighter2.getStats().HP &lt;= 0) {</span><br/><span class="hl-0">        return this.fighter1.getName();</span><br/><span class="hl-0">      } </span><br/><br/><br/><span class="hl-0">      let dmg2: number = Math.floor(this.fighter2.getDmg(this.fighter1) * this.fighter2.efectivity(this.fighter1));</span><br/><span class="hl-0">      this.fighter1.getStats().HP -= dmg2;</span><br/><span class="hl-0">      if (this.fighter1.getStats().HP &lt;= 0) {</span><br/><span class="hl-0">        return this.fighter2.getName();</span><br/><span class="hl-0">      } </span><br/><br/><span class="hl-0">    } while ((this.fighter1.getStats().HP &gt; 0) &amp;&amp; (this.fighter2.getStats().HP &gt; 0));</span><br/><br/><span class="hl-0">    return &#39;&#39;;</span><br/><span class="hl-0">  }</span>
</code></pre>
<p>Tras explicar el código de las clases de combate, se procederá a mostrar el formato de desarrollo de la nueva pokedex: </p>
<pre><code><span class="hl-1">import</span><span class="hl-2"> { </span><span class="hl-5">Fighter</span><span class="hl-2">} </span><span class="hl-1">from</span><span class="hl-2"> </span><span class="hl-8">&quot;./fighter&quot;</span><span class="hl-2">;</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * # Clase Pokedex</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Pokedex</span><span class="hl-2"> &lt;</span><span class="hl-4">T</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">Fighter</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">fighters</span><span class="hl-0"> Conjunto de luchadores</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-3">public</span><span class="hl-2"> </span><span class="hl-5">fighters</span><span class="hl-2">: </span><span class="hl-4">T</span><span class="hl-2">[]) {</span><br/><br/><span class="hl-2">  }</span><br/><span class="hl-2">};</span>
</code></pre>
<ul>
<li><a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447/tree/main/src/ejercicio-02">Ejercicio 2</a></li>
</ul>
<p>Este ejercicio consiste en el modelado de datos de una plataforma de vídeo en streaming. Para ello, se requiere de una interfaz que trate de especificar propiedades y métodos con los que debería contar una colección de emisiones concreta, además de implementar métodos de búsqueda. Se incluirá también una clase abstracta que suponga un conjunto de Streams, sin importar el tipo del que sean. Y por último, se necesitarán los tipos de Streams que se organizarán en grupos.</p>
<p>Para comenzar este ejercicio, se desarrollaron los siguientes tipos de datos, ya que era necesario delimitar las condiciones necesarias para un Stream.</p>
<pre><code><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">Fecha</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-5">year</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">month</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">day</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">, </span><br/><span class="hl-2">}</span><br/><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">type</span><span class="hl-2"> </span><span class="hl-4">Stream</span><span class="hl-2"> = {</span><br/><span class="hl-2">  </span><span class="hl-5">title</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">date</span><span class="hl-2">: </span><span class="hl-4">Fecha</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">genre</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">director</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">length</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">,</span><br/><span class="hl-2">  </span><span class="hl-5">country</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> </span><br/><span class="hl-2">};</span>
</code></pre>
<p>Teniendo en cuenta estos datos, creamos las siguientes interfaces. Se divide en dos la interfaza Stream debido a los principios SOLID.</p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * ## Interfaz de Streams</span><br/><span class="hl-0"> * ### Funciones para almacenaje</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">interface</span><span class="hl-2"> </span><span class="hl-4">StreamableCollect</span><span class="hl-2"> &lt;</span><span class="hl-4">T</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">  </span><span class="hl-6">addStreamable</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">: </span><span class="hl-4">T</span><span class="hl-2">);</span><br/><span class="hl-2">  </span><span class="hl-6">getStreamable</span><span class="hl-2">(</span><span class="hl-5">index</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2"> | </span><span class="hl-4">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">  </span><span class="hl-6">getNumberOfStreamable</span><span class="hl-2">(): </span><span class="hl-4">number</span><span class="hl-2">;</span><br/><span class="hl-2">};</span><br/><br/><span class="hl-0">/**</span><br/><span class="hl-0"> * ## Interfaz de Streams</span><br/><span class="hl-0"> * ### Funciones de busqueda</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">interface</span><span class="hl-2"> </span><span class="hl-4">Streamable</span><span class="hl-2"> &lt;</span><span class="hl-4">T</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">  </span><span class="hl-6">titleSearch</span><span class="hl-2">(</span><span class="hl-5">title</span><span class="hl-2">:</span><span class="hl-4">string</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];  </span><br/><span class="hl-2">  </span><span class="hl-6">yearSearch</span><span class="hl-2">(</span><span class="hl-5">year</span><span class="hl-2">: </span><span class="hl-4">Fecha</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];</span><br/><span class="hl-2">  </span><span class="hl-6">genreSearch</span><span class="hl-2">(</span><span class="hl-5">genre</span><span class="hl-2">:</span><span class="hl-4">string</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];  </span><br/><span class="hl-2">  </span><span class="hl-6">directorSearch</span><span class="hl-2">(</span><span class="hl-5">director</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];</span><br/><span class="hl-2">};</span>
</code></pre>
<p>Para llevar a cabo la clase <code>BasicStreamableCollection</code>  que es una implementación de la interfaz <code>StreamableCollect</code> y <code>Streamable</code>. Se añaden las funciones de conjuntos, pero las funciones de búsqueda permanecen abstractas, ya que, todavía no se pueden realizar en esta clase.</p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * # Clase BasicStreamableCollection</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">abstract</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">BasicStreamableCollection</span><span class="hl-2"> &lt;</span><span class="hl-4">T</span><span class="hl-2">&gt; </span><span class="hl-3">implements</span><span class="hl-2"> </span><span class="hl-4">StreamableCollect</span><span class="hl-2">&lt;</span><span class="hl-4">T</span><span class="hl-2">&gt;, </span><span class="hl-4">Streamable</span><span class="hl-2">&lt;</span><span class="hl-4">T</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">items</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">items</span><span class="hl-2">: </span><span class="hl-4">T</span><span class="hl-2">[]) {</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">item</span><span class="hl-0"> Stream</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">public</span><span class="hl-2"> </span><span class="hl-6">addStreamable</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">: </span><span class="hl-4">T</span><span class="hl-2">) {</span><br/><span class="hl-2">    </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">items</span><span class="hl-2">.</span><span class="hl-6">push</span><span class="hl-2">(</span><span class="hl-5">item</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">index</span><span class="hl-0"> posicion del stream</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">public</span><span class="hl-2"> </span><span class="hl-6">getStreamable</span><span class="hl-2">(</span><span class="hl-5">index</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2"> | </span><span class="hl-4">undefined</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-5">index</span><span class="hl-2"> &gt;= </span><span class="hl-7">0</span><span class="hl-2"> &amp;&amp; </span><span class="hl-5">index</span><span class="hl-2"> &lt; </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">items</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">) {</span><br/><span class="hl-2">      </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">items</span><span class="hl-2">[</span><span class="hl-5">index</span><span class="hl-2">];</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">undefined</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> numero de streams</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">public</span><span class="hl-2"> </span><span class="hl-6">getNumberOfStreamable</span><span class="hl-2">(): </span><span class="hl-4">number</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">items</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">title</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">abstract</span><span class="hl-2"> </span><span class="hl-6">titleSearch</span><span class="hl-2">(</span><span class="hl-5">title</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">year</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">abstract</span><span class="hl-2"> </span><span class="hl-6">yearSearch</span><span class="hl-2">(</span><span class="hl-5">year</span><span class="hl-2">: </span><span class="hl-4">Fecha</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">genre</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">abstract</span><span class="hl-2"> </span><span class="hl-6">genreSearch</span><span class="hl-2">(</span><span class="hl-5">genre</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">director</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">abstract</span><span class="hl-2"> </span><span class="hl-6">directorSearch</span><span class="hl-2">(</span><span class="hl-5">director</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">): </span><span class="hl-4">T</span><span class="hl-2">[];</span><br/><span class="hl-2">}</span>
</code></pre>
<p>Tanto las series, como las películas, como los documentales, siguen el siguiente modelo mostrado como ejemplo. 
Ejemplo de la clase <code>Pelicula</code></p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * # Clase Pelicula</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Pelicula</span><span class="hl-2"> </span><span class="hl-3">extends</span><span class="hl-2"> </span><span class="hl-4">BasicStreamableCollection</span><span class="hl-2">&lt;</span><span class="hl-4">Stream</span><span class="hl-2">&gt; {</span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">peliculas</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-3">public</span><span class="hl-2"> </span><span class="hl-5">peliculas</span><span class="hl-2">: </span><span class="hl-4">Stream</span><span class="hl-2">[]) {</span><br/><span class="hl-2">    </span><span class="hl-3">super</span><span class="hl-2">(</span><span class="hl-5">peliculas</span><span class="hl-2">);</span><br/><span class="hl-2">  }</span>
</code></pre>
<p>En las funciones de busqueda, se recorre la lista de elementos de tipo <code>Stream</code> y se comprueba los datos con respecto a los que se nos han introducido. En todas las funciones, el resultado será, aquel conjunto de <code>Streams</code> que concuerden con la búsqueda.</p>
<pre><code><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## titleSearch</span><br/><span class="hl-0">   * ### Busca las peliculas que tienen el titulo </span><span class="hl-3">@title</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">titleSearch</span><span class="hl-2">(</span><span class="hl-5">title</span><span class="hl-2">: </span><span class="hl-5">string</span><span class="hl-2">): </span><span class="hl-5">Stream</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-4">Stream</span><span class="hl-2">[] = [];</span><br/><span class="hl-2">    </span><span class="hl-1">for</span><span class="hl-2"> (</span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">i</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-7">0</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2"> &lt; </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2">++) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-5">title</span><span class="hl-2"> == </span><span class="hl-5">title</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-6">push</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">]);</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## yearSearch</span><br/><span class="hl-0">   * ### Busca las peliculas realizadoes en </span><span class="hl-3">@date</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">yearSearch</span><span class="hl-2">(</span><span class="hl-5">date</span><span class="hl-2">: </span><span class="hl-5">Fecha</span><span class="hl-2">): </span><span class="hl-5">Stream</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-4">Stream</span><span class="hl-2">[] = [];</span><br/><br/><span class="hl-2">    </span><span class="hl-1">for</span><span class="hl-2"> (</span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">i</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-7">0</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2"> &lt; </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2">++) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> ((</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-5">date</span><span class="hl-2">.</span><span class="hl-5">day</span><span class="hl-2"> == </span><span class="hl-5">date</span><span class="hl-2">.</span><span class="hl-5">day</span><span class="hl-2">) &amp;&amp; (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-5">date</span><span class="hl-2">.</span><span class="hl-5">month</span><span class="hl-2"> == </span><span class="hl-5">date</span><span class="hl-2">.</span><span class="hl-5">month</span><span class="hl-2">) </span><br/><span class="hl-2">      &amp;&amp; (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-5">date</span><span class="hl-2">.</span><span class="hl-5">year</span><span class="hl-2"> == </span><span class="hl-5">date</span><span class="hl-2">.</span><span class="hl-5">year</span><span class="hl-2">)) {</span><br/><span class="hl-2">        </span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-6">push</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">]);</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## genreSearch</span><br/><span class="hl-0">   * ### Busca las peliculas del genero </span><span class="hl-3">@genre</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">genreSearch</span><span class="hl-2">(</span><span class="hl-5">genre</span><span class="hl-2">: </span><span class="hl-5">string</span><span class="hl-2">): </span><span class="hl-5">Stream</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-4">Stream</span><span class="hl-2">[] = [];</span><br/><br/><span class="hl-2">    </span><span class="hl-1">for</span><span class="hl-2"> (</span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">i</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-7">0</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2"> &lt; </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2">++) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-5">genre</span><span class="hl-2"> == </span><span class="hl-5">genre</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-6">push</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">]);</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * ## directorSearch</span><br/><span class="hl-0">   * ### Busca las peliculas dirigidos por </span><span class="hl-3">@director</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">directorSearch</span><span class="hl-2">(</span><span class="hl-5">director</span><span class="hl-2">: </span><span class="hl-5">string</span><span class="hl-2">): </span><span class="hl-5">Stream</span><span class="hl-2">[] {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-4">Stream</span><span class="hl-2">[] = [];</span><br/><br/><span class="hl-2">    </span><span class="hl-1">for</span><span class="hl-2"> (</span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">i</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-7">0</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2"> &lt; </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2">++) {</span><br/><span class="hl-2">      </span><span class="hl-1">if</span><span class="hl-2"> (</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-5">director</span><span class="hl-2"> == </span><span class="hl-5">director</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">result</span><span class="hl-2">.</span><span class="hl-6">push</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">peliculas</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">]);</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">    }</span><br/><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><br/><span class="hl-2">};</span>
</code></pre>
<ul>
<li><a href="https://github.com/ULL-ESIT-INF-DSI-2122/ull-esit-inf-dsi-21-22-prct06-generics-solid-alu0101328447/tree/main/src/ejercicio-03">Ejercicio 3</a></li>
</ul>
<p>Para lograr resolver este ejercicio se pide la implementación de una clase Cifrado que sea capaz de cifrar y descifrar mensajes utilizando el <a href="https://es.wikipedia.org/wiki/Cifrado_C%C3%A9sar">Cifrado de Cesar</a> con desplazamientos variables basados en las letras de una palabra clave.</p>
<p>Por todo esto, la clase <code>Cifrado</code> se implementa de la siguiente manera: </p>
<pre><code><span class="hl-0">/**</span><br/><span class="hl-0"> * # Clase Cifrado</span><br/><span class="hl-0"> */</span><br/><span class="hl-1">export</span><span class="hl-2"> </span><span class="hl-3">class</span><span class="hl-2"> </span><span class="hl-4">Cifrado</span><span class="hl-2"> {</span><br/><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">message</span><span class="hl-0"> </span><br/><span class="hl-0">   * </span><span class="hl-3">@param</span><span class="hl-0"> </span><span class="hl-5">key</span><span class="hl-0"> </span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-3">constructor</span><span class="hl-2">(</span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">message</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">, </span><span class="hl-3">private</span><span class="hl-2"> </span><span class="hl-5">key</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2">) {</span><br/><span class="hl-2">  }</span>
</code></pre>
<p>La función encargada de cifrar el mensaje, utiliza una cadena en la que se encuentran todas las letras del abecedario. Sobre esta cadena se aplica la función <code>indexOf</code> con la letra del mensaje correspondiente, para obtener su valor númerico. Esto mismo se hace con la clase y se suman dichos valores, así obteniendo la posición de la letra resultante. Pero para mantener la posición dentro del número de letras del abecedario, se le aplica el módulo 27, que es el número de letras.</p>
<pre><code><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> mensaje cifrado</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">cifrado</span><span class="hl-2">(): </span><span class="hl-5">string</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-8">&#39;&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">y</span><span class="hl-2"> = </span><span class="hl-8">&#39;ABCDEFGHIJKLMNÑOPQRSTUVWXYZ&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">for</span><span class="hl-2">(</span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">i</span><span class="hl-2"> = </span><span class="hl-7">0</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2"> &lt; </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">message</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2">++) {</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">aux1</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-5">y</span><span class="hl-2">.</span><span class="hl-6">indexOf</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">message</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-6">toUpperCase</span><span class="hl-2">());</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">aux2</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-5">y</span><span class="hl-2">.</span><span class="hl-6">indexOf</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">key</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2"> % </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">key</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">]);</span><br/><span class="hl-2">      </span><span class="hl-5">result</span><span class="hl-2"> += </span><span class="hl-5">y</span><span class="hl-2">[(</span><span class="hl-5">aux1</span><span class="hl-2"> + </span><span class="hl-5">aux2</span><span class="hl-2">) % </span><span class="hl-7">27</span><span class="hl-2">]</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span>
</code></pre>
<p>  Por otra parte, la función de descifrado actúa de la misma manera que la función de cifrado, pero en vez de sumando los valores de la clave, se restan. Por esto mismo, para evitar valores negativos se le suma al resultado de esa resta 27. </p>
<pre><code><span class="hl-2">  </span><span class="hl-0">/**</span><br/><span class="hl-0">   * </span><br/><span class="hl-0">   * </span><span class="hl-3">@returns</span><span class="hl-0"> mensaje descifrado</span><br/><span class="hl-0">   */</span><br/><span class="hl-2">  </span><span class="hl-6">descifrado</span><span class="hl-2">(): </span><span class="hl-5">string</span><span class="hl-2"> {</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">: </span><span class="hl-4">string</span><span class="hl-2"> = </span><span class="hl-8">&#39;&#39;</span><span class="hl-2">;</span><br/><span class="hl-2">    </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">y</span><span class="hl-2"> = </span><span class="hl-8">&#39;ABCDEFGHIJKLMNÑOPQRSTUVWXYZ&#39;</span><span class="hl-2">;</span><br/><br/><span class="hl-2">    </span><span class="hl-1">for</span><span class="hl-2">(</span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">i</span><span class="hl-2"> = </span><span class="hl-7">0</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2"> &lt; </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">message</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">; </span><span class="hl-5">i</span><span class="hl-2">++) {</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">aux1</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-5">y</span><span class="hl-2">.</span><span class="hl-6">indexOf</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">message</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2">].</span><span class="hl-6">toUpperCase</span><span class="hl-2">());</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">aux2</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-5">y</span><span class="hl-2">.</span><span class="hl-6">indexOf</span><span class="hl-2">(</span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">key</span><span class="hl-2">[</span><span class="hl-5">i</span><span class="hl-2"> % </span><span class="hl-3">this</span><span class="hl-2">.</span><span class="hl-5">key</span><span class="hl-2">.</span><span class="hl-5">length</span><span class="hl-2">]);</span><br/><span class="hl-2">      </span><span class="hl-3">let</span><span class="hl-2"> </span><span class="hl-5">aux3</span><span class="hl-2">: </span><span class="hl-4">number</span><span class="hl-2"> = </span><span class="hl-5">aux1</span><span class="hl-2"> - </span><span class="hl-5">aux2</span><span class="hl-2">;</span><br/><span class="hl-2">      </span><span class="hl-1">while</span><span class="hl-2"> (</span><span class="hl-5">aux3</span><span class="hl-2"> &lt; </span><span class="hl-7">0</span><span class="hl-2">) {</span><br/><span class="hl-2">        </span><span class="hl-5">aux3</span><span class="hl-2"> += </span><span class="hl-7">27</span><span class="hl-2">;</span><br/><span class="hl-2">      }</span><br/><span class="hl-2">      </span><span class="hl-5">result</span><span class="hl-2"> += </span><span class="hl-5">y</span><span class="hl-2">[(</span><span class="hl-5">aux3</span><span class="hl-2">) % </span><span class="hl-7">27</span><span class="hl-2">]</span><br/><span class="hl-2">    }</span><br/><span class="hl-2">    </span><br/><span class="hl-2">    </span><span class="hl-1">return</span><span class="hl-2"> </span><span class="hl-5">result</span><span class="hl-2">;</span><br/><span class="hl-2">  }</span><br/><span class="hl-2">}</span>
</code></pre>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/electricPokemon.html">electric<wbr/>Pokemon</a></li><li class=" tsd-kind-module"><a href="modules/electricPokemonCreator.html">electric<wbr/>Pokemon<wbr/>Creator</a></li><li class=" tsd-kind-module"><a href="modules/firePokemon.html">fire<wbr/>Pokemon</a></li><li class=" tsd-kind-module"><a href="modules/firePokemonCreator.html">fire<wbr/>Pokemon<wbr/>Creator</a></li><li class=" tsd-kind-module"><a href="modules/grassPokemon.html">grass<wbr/>Pokemon</a></li><li class=" tsd-kind-module"><a href="modules/grassPokemonCreator.html">grass<wbr/>Pokemon<wbr/>Creator</a></li><li class=" tsd-kind-module"><a href="modules/pokemon.html">pokemon</a></li><li class=" tsd-kind-module"><a href="modules/pokemonCreator.html">pokemon<wbr/>Creator</a></li><li class=" tsd-kind-module"><a href="modules/stats.html">stats</a></li><li class=" tsd-kind-module"><a href="modules/waterPokemon.html">water<wbr/>Pokemon</a></li><li class=" tsd-kind-module"><a href="modules/waterPokemonCreator.html">water<wbr/>Pokemon<wbr/>Creator</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>